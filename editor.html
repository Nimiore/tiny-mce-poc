<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript"
                src='https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js'
                referrerpolicy="origin">
        </script>
        <script>
            tinymce.init({
                  selector: 'textarea#basic-example',
                  height: 500,
                  menubar: 'file view insert edit tools table',
                  plugins: [
                          'advlist', 'autolink', 'lists', 'link', 'image',
                      'charmap', 'print', 'preview', 'anchor',
                      'searchreplace', 'visualblocks', 'code', 'fullscreen',
                      'insertdatetime', 'media', 'table', 'paste',
                      'help', 'wordcount', 'youtube',
                  ],
                  external_plugins: {
                      'youtube':'http://0.0.0.0:8000/tinymce/js/tinymce/plugins/youtube/plugin.min.js',
                  },
                  extended_valid_elements : 'iframe[src|frameborder|style|scrolling|class|width|height|name|align]',
                  toolbar: 'undo redo | formatselect | ' +
                  'bold italic backcolor | alignleft aligncenter ' +
                  'alignright alignjustify | bullist numlist outdent indent | ' +
                  'link | image | charmap print preview anchor searchreplace' +
                  'visualblocks code fullscreen | insertdatetime | media | ' +
                  'table tabledelete | tableprops tablerowprops tablecellprops | ' +
                  'tableinsertrowbefore tableinsertrowafter tabledeleterow | ' +
                  'tableinsertcolbefore tableinsertcolafter tabledeletecol | ' +
                  'paste pastetext | wordcount |' +
                  'removeformat | help | customInsertButton | youtube',
                  content_style: 'body {font-family:Helvetica,Arial,sans-serif; font-size:14px}',
                  cleanup_on_startup : true,
                  //paste_as_text: true,
                  paste_auto_cleanup_on_paste : true,
                  inline_styles:false,
                  setup: function(editor){
                      editor.ui.registry.addButton('customInsertButton',{
                          text:'My Button',
                          onAction: function(_){
                              editor.insertContent('<testtag><h4>My Button</h4></testtag>');
                          }
                      });
                  },
            });
        </script>
        <script>
            function submitText(){
                // Get the HTML contents of the currently active editor
                //var text = tinyMCE.activeEditor.getContent();
                //alert("text is: "+text);

                // Get the raw contents of the currently active editor
                var text = tinyMCE.activeEditor.getContent({format : 'raw'});
                alert('text is:'+text);
                document.getElementById('entered-text').value = text;

                // Get content of a specific editor:
                //var text = tinyMCE.get('basic-example').getContent();
                //alert('text: '+text);
            }
        </script>
    </head>
    <body>
        Enter text : <br>
        <textarea id='basic-example'>
        </textarea>
        <br><br>
        <button id='submit-text' onclick='submitText();'> Submit
        </button><br><br>
        <div>
            Entered Text: &emsp;
            <textarea id='entered-text'></textarea>
        </div>
    </body>
</html>
